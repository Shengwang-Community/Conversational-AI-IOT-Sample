# 蓝牙低功耗（BLE）设备配网应用使用指南

## 应用概述

这是一个用于Android设备的蓝牙低功耗（BLE）设备配网应用，可以帮助您通过BLE连接智能设备并配置其WiFi网络连接。本应用基于我们的BLE配网库开发，提供了简单直观的用户界面。

## 使用流程

### 1. 权限申请

首次使用应用时，需要获取必要的权限：

- 点击**申请权限**按钮，应用将请求蓝牙和位置权限
- 在系统弹出的权限请求对话框中选择"允许"
- 这些权限对于BLE设备扫描和连接是必需的

### 2. 检查WiFi权限

- 点击**检查WiFi权限**按钮，应用将检查是否已获取WiFi相关权限
- 如果权限已获取，将显示"已获取WiFi权限"的提示
- 如果权限未获取，将显示"未获取WiFi权限"的提示

### 3. 获取当前WiFi信息

- 点击**获取当前WiFi信息**按钮，应用将获取并显示当前连接的WiFi网络名称(SSID)
- 获取的WiFi信息将显示在按钮下方的卡片中

### 4. 输入WiFi密码

- 在**WiFi密码**输入框中输入当前WiFi网络的密码
- 此密码将用于配置智能设备连接到您的WiFi网络

### 5. 扫描BLE设备

- 点击**开始扫描**按钮，应用将开始扫描周围的BLE设备
- 扫描过程中，按钮文字将变为"停止扫描"
- 扫描到的设备将显示在下方的列表中
- 再次点击按钮可停止扫描

### 6. 连接设备

在设备列表中，每个设备卡片包含以下信息和操作：

- 设备名称
- MAC地址
- 信号强度(RSSI)
- **建立连接**按钮：点击此按钮与选中的设备建立BLE连接
- **配置网络**按钮：点击此按钮将之前输入的WiFi信息发送给设备，帮助设备连接到WiFi网络
- **断开连接**按钮：点击此按钮断开与设备的BLE连接

## 配网流程

完整的设备配网流程如下：

1. 申请并获取必要权限
2. 获取当前WiFi信息
3. 输入WiFi密码
4. 扫描并找到目标BLE设备
5. 点击"建立连接"按钮连接设备
6. 连接成功后，点击"配置网络"按钮将WiFi信息发送给设备
8. 配网完成后，点击"断开连接"按钮断开与设备的连接

## 注意事项

1. 确保您的Android设备已开启蓝牙和位置服务
2. 确保目标智能设备处于可发现模式
3. 配网过程中请保持手机与智能设备的距离不超过5米
4. 如果配网失败，请尝试重新连接设备或重启应用
5. 对于Android 12及以上设备，需要特别注意授予`BLUETOOTH_SCAN`和`BLUETOOTH_CONNECT`权限
6. 请提前在手机设置界面中连接2.4G类型wifi，并保证该wifi可以正常访问互联网，否则将配网失败

## 故障排除

- 如果应用无法扫描到设备，请检查蓝牙和位置服务是否已开启
- 如果连接设备失败，请尝试重新扫描或重启智能设备
- 如果配网失败，请确认WiFi密码是否正确输入

希望本指南能帮助您顺利使用我们的BLE设备配网应用。如有任何问题，请联系我们的技术支持团队。
